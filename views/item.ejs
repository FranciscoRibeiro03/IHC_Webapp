<!DOCTYPE html>
<html lang="en">
  <%- include('./components/head.ejs') %>
  <link href="/css/index.css" rel="stylesheet" />
  <link href="/css/forms.css" rel="stylesheet" />
  </head>

  <body>
    <%- include('./components/navbar.ejs') %>
    <main class="container">
      <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-2">
        <div class="col mt-3">
          <div class="shadow-sm product">
            <div id="product-carousel" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-indicators">
                <% for (const imageIndex in item.images) { %>
                  <button type="button" data-bs-target="#product-carousel" data-bs-slide-to="<%= imageIndex %>" class="<%= imageIndex == 0 ? 'active' : '' %>" aria-current="<%= imageIndex == 0 ? 'true' : '' %>"></button>
                <% } %>
              </div>
              <div class="carousel-inner">
                <% for (const image of item.images) { %>
                  <div class="carousel-item <%= item.images.indexOf(image) == 0 ? 'active' : '' %>">
                    <img src="<%= image %>" class="d-block w-100 img-fluid" alt="<%= item.description %>" />
                  </div>
                <% } %>
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#product-carousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#product-carousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
          </div>
        </div>
        <div class="col mt-3">
          <div class="card border-0">
            <div class="row mb-3">
              <div class="col">
                <h1 class="h1"><%= item.name %></h1>
              </div>
              <div class="col d-flex justify-content-end">
                <button type="button" class="btn btn-outline-secondary px-3" onclick="location.href = '/'">
                  <i class="bi bi-arrow-left-circle-fill"></i><span class="mx-1"></span>Back
                </button>
                <div class="mx-1"></div>
                <button type="button" class="btn btn-outline-success px-3" onclick="location.href = '/item/<%= item.id %>/edit'">
                  <i class="bi bi-pencil-fill"></i><span class="mx-1"></span>Edit
                </button>
              </div>
            </div>
            <p class="text-secondary"><strong>ID: </strong><%= item.id %></p>
            <p class="h4"><%= item.description %></p>
            <div class="d-flex justify-content-between align-items-center">
            </div>
          </div>
        </div>
      </div>
      <h1 class="h1">Videos</h1>
      <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-2">
        <% for (const video of item.videos) { %>
          <div class="col mt-3">
            <div class="card shadow-sm">
              <div class="ratio ratio-16x9">
                <video controls>
                  <source src="<%= video %>" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
              </div>
            </div>
          </div>
        <% } %>
      </div>
    </main>
    <%- include('./components/footer.ejs') %>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
